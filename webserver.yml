-   #Deploy Section
    name: 'Deploy Webserver which provides service that displays the message "Hello World from SJSU"'
    hosts: web_servers
    tasks:
        -
            name: "Install httpd service"
            yum: 
                name: httpd
                state: present
       
        -   # start the service.
            name: "Start web server"
            service: 
                name: httpd
                state: started
       
        -   # make sure the landing page with the message "Hello World from SJSU" exists.
            name: create content
            copy:
                content: "Hello World from SJSU"
                dest: /var/www/html/index.html
                mode: 0644
             
        -   # make sure firewall is open for port 80.
        -   # make sure the message is displayed when the resource is requested.
        
    tags: 'deploy'   
-   #UnDeploy Section
    name: 'Undeploy Webserver which provides service that displays the message "Hello World from SJSU"'
    hosts: web_servers
    tasks:
        - #block firewall access to port 80.
            name: 'block firewall access to port 80'
            firewalld:
                port: 80/tcp
                state: disabled
        - #stop the httpd service. 
            name: 'Stop the httpd service'
            service:
                name: httpd
                state: stopped
        
    tags: 'undeploy'
